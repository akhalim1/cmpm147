<!DOCTYPE html>
<html>
<head>
	<!-- This title is used for tabs and bookmarks -->
	<title>Experiment 4 - Infinite Ocean</title>

	<!-- Use UTF character set, a good idea with any webpage -->
	<meta charset="UTF-8" />
	<!-- Set viewport so page remains consistently scaled w narrow devices -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!-- Include CSS file, including a site-wide CSS and for this particular page -->
	<link rel="stylesheet" type="text/css" href="../css/site.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<!-- Load jQuery library -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
	<!-- Load p5.js library -->
	<script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.js"></script>

	<script src="js/xxhash.min.js"></script>
	<script src="js/engine.js"></script>
	
	<!-- Link to javascript files - DEFER waits until all elements are rendered -->
    <script type="text/javascript" src="../js/site.js" DEFER></script>
	<!-- Use me for a JavaScript OOP Project -->
	<script type="text/javascript" src="./js/project.js" DEFER></script>
	<!-- Use me for a p5.js project -->
	<script type="text/javascript" src="./js/sketch.js" DEFER></script>
</head>
<body>
	<!-- Style this page by changing the CSS in ../css/site.css or css/experiment.css -->
	<main id="content">
		<section>

			<h1>Experiment 4 - Infinite Ocean</h1>
			
			<div class="minor-section">
				<div id="canvas-container">
					<!-- canvas will be added here -->
				</div>
                <div class="fullscreen-box">
					<span id = "seedLabel"></span>
                    <button id="fullscreen">Fullscreen</button>
                </div>
			</div>
			
			<section id="dungeon-gen">
				<h2>Version 2</h2>
				<iframe
				  title="Dungeon Generator"
				  src="https://cmpm125-infinite-ocean-v2.glitch.me/"
				  style="width:100%; height:400px; border:0;"
				  allow="geolocation; microphone; camera; midi; encrypted-media"
				></iframe>
			  </section>

			<section id="dungeon-gen">
				<h2>Version 3</h2>
				<iframe
				  title="Dungeon Generator"
				  src="https://cmpm125-infinite-ocean-v3.glitch.me/"
				  style="width:100%; height:400px; border:0;"
				  allow="geolocation; microphone; camera; midi; encrypted-media"
				></iframe>
			  </section>
			  
			<div class="minor-section">
				<h2>Description</h2>
				<p>The goal of this experiment is to create a pseudo infinite and random ocean world that is uniquely determined by a user provided string./p>
			</div>

			<div class="minor-section">
				<h2>Technical</h2>
				<p>For the innovation portion, I wanted to create a fish flopping effect that occurred when you pressed a tile to simulate a bit of life. I began by defining a simple data structure for each fish that combined its physical state (position, velocity, age, and size). From there, an animation loop was created to increment the vertical velocity by gravity and then update the fish’s position so that the fish had a natural curve/arc when leaping out of the water. </p>
				<p>To render the fish, the drawing code was wrapped in push() and pop() which translated the origin of the fish’s current position and then rotated the canvas according to the fish’s direction of travel. This was done using “atan2()”. What atan2 does essentially is point the fish in its velocity direction by taking its velocity components (vx, vy) so the fish is always facing the direction it’s moving to.</p>
				<p>Next, the fish’s body was made by creating an ellipse taking the inputs of the fish’s size established earlier. To create the tail, 3 points were established. The first point sits right at the middle of the fish’s rear, The second point is up and back from the fish’s rear point and the 3rd point is down and back the same amount. The 3 points connected creates a triangle that looks like a fish's tail attached to the ellipse. Now when the tile is clicked the fish flops out of the water and disappears based on its age count (based on the animation loop).</p>
			</div>

			<div class="minor-section">
				<h2>Reflection</h2>
				<p>The strengths of this project was the smooth depth for the shoreline being remapped into a light to deep blue gradient with a sand cut off. It gave the ocean a convincing sense of depth and a shoreline rather than randomly checkered patterns scattered throughout the scene. Another strength would be fulfilling the interactive signs of life by clicking on the tile and spawning the animated fish. The arcing out of the water and the simple body creation of the fish that orient to their velocity vector was a good demo of the interactivity requirements. A weakness in this project was the limited variety in the scene. Beyond the fish, there were not many factors. Perhaps other roaming creatures or waves rippling could have been added.</p>
			</div>

		</section>
		<nav id="links" class="minor-section">
			<!-- Put link back to homepage here. -->
            <ul>
                <li><a href="../index.html">Home</a></li>
            </ul>
		</nav>
	</main>
</body>
</html>
